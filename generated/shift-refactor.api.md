## API Report File for "shift-refactor"

> Do not edit this file. It is a report generated by [API Extractor](https://api-extractor.com/).

```ts

import { AssignmentExpression } from 'shift-ast';
import { AssignmentTargetIdentifier } from 'shift-ast';
import { BindingIdentifier } from 'shift-ast';
import { Block } from 'shift-ast';
import { ClassDeclaration } from 'shift-ast';
import { ClassExpression } from 'shift-ast';
import { ComputedMemberAssignmentTarget } from 'shift-ast';
import { ComputedMemberExpression } from 'shift-ast';
import { Declaration } from 'shift-scope';
import { Expression } from 'shift-ast';
import { FunctionBody } from 'shift-ast';
import { FunctionDeclaration } from 'shift-ast';
import { FunctionExpression } from 'shift-ast';
import { IdentifierExpression } from 'shift-ast';
import { LiteralInfinityExpression } from 'shift-ast';
import { LiteralNullExpression } from 'shift-ast';
import { LiteralNumericExpression } from 'shift-ast';
import { LiteralRegExpExpression } from 'shift-ast';
import { LiteralStringExpression } from 'shift-ast';
import { Node } from 'shift-ast';
import { Reference } from 'shift-scope';
import { Scope } from 'shift-scope';
import { ScopeLookup } from 'shift-scope';
import { Script } from 'shift-ast';
import { Statement } from 'shift-ast';
import { StaticMemberAssignmentTarget } from 'shift-ast';
import { StaticMemberExpression } from 'shift-ast';
import { UnaryExpression } from 'shift-ast';
import { Variable } from 'shift-scope';
import { VariableDeclarator } from 'shift-ast';

// @public
export type AsyncReplacer = Replacer | ((node: Node) => Promise<Node | string>);

// @public (undocumented)
export type Constructor<T> = new (...args: any[]) => T;

// @public (undocumented)
export function copy(object: any): any;

// @public (undocumented)
export function getRootIdentifier(expr: StaticMemberExpression | ComputedMemberExpression | StaticMemberAssignmentTarget | ComputedMemberAssignmentTarget | IdentifierExpression): IdentifierExpression;

// @public
export class GlobalState {
    // Warning: (ae-forgotten-export) The symbol "GlobalStateOptions" needs to be exported by the entry point index.d.ts
    constructor(sourceOrNode: string | Node, config?: GlobalStateOptions);
    // (undocumented)
    autoCleanup: boolean;
    // (undocumented)
    cleanup(): this;
    // (undocumented)
    conditionalCleanup(): this;
    // (undocumented)
    findDeclarations(node: SimpleIdentifier | SimpleIdentifierOwner): Declaration[];
    // (undocumented)
    findParents(selectorOrNode: SelectorOrNode): Node[];
    // (undocumented)
    findReferences(node: SimpleIdentifier | SimpleIdentifierOwner): Reference[];
    // (undocumented)
    generate(ast?: Node): any;
    // (undocumented)
    getInnerScope(node: FunctionDeclaration): Scope | undefined;
    // (undocumented)
    getLookupTable(): ScopeLookup;
    // (undocumented)
    insert(selectorOrNode: SelectorOrNode, replacer: Replacer, after?: boolean): ReturnType<typeof GlobalState.prototype.conditionalCleanup>;
    // (undocumented)
    isDirty(dirty?: boolean): boolean;
    // (undocumented)
    lookupScope(variableLookup: Variable | Variable[] | SimpleIdentifierOwner | SimpleIdentifierOwner[] | SimpleIdentifier | SimpleIdentifier[]): Scope | undefined;
    // (undocumented)
    lookupVariable(node: SimpleIdentifierOwner | SimpleIdentifierOwner[] | SimpleIdentifier | SimpleIdentifier[]): Variable;
    // (undocumented)
    lookupVariableByName(name: string): Variable[];
    // (undocumented)
    parentMap: WeakMap<Node, Node>;
    // (undocumented)
    _queueDeletion(node: Node): void;
    // (undocumented)
    _queueReplacement(from: Node, to: Node): void;
    // (undocumented)
    _rebuildScopeMap(): void;
    // (undocumented)
    root: Node;
    // (undocumented)
    scopeMap: WeakMap<Variable, Scope>;
    // (undocumented)
    scopeOwnerMap: WeakMap<Node, Scope>;
    // (undocumented)
    validate(): any;
    // (undocumented)
    variables: Set<Variable>;
}

// @public (undocumented)
export function isDeepSimilar(partial: any, actual: any): boolean;

// @public (undocumented)
export function isLiteral(input: any): input is LiteralStringExpression | LiteralInfinityExpression | LiteralNumericExpression | LiteralNullExpression | LiteralRegExpExpression | UnaryExpression;

// @public (undocumented)
export function isMemberAssignment(node: Node): node is ComputedMemberAssignmentTarget | StaticMemberAssignmentTarget;

// @public (undocumented)
export function isMemberExpression(node: Node): node is ComputedMemberExpression | StaticMemberExpression;

// @public (undocumented)
export function isNodeWithStatements(input: any): input is NodesWithStatements;

// @public (undocumented)
export function isShiftNode(input: any): input is Node;

// @public (undocumented)
export function isStatement(input: any): input is Statement;

// @public
export type NodesWithStatements = Block | FunctionBody | Script;

// Warning: (ae-forgotten-export) The symbol "Plugin" needs to be exported by the entry point index.d.ts
// Warning: (ae-forgotten-export) The symbol "RefactorQueryAPI" needs to be exported by the entry point index.d.ts
//
// @public
export function refactor(input: string | Node, ...plugins: Plugin[]): RefactorQueryAPI;

// @public
export class RefactorError extends Error {
}

// Warning: (ae-internal-missing-underscore) The name "RefactorSession" should be prefixed with an underscore because the declaration is marked as @internal
//
// @internal @deprecated
export class RefactorSession {
    // (undocumented)
    $(querySessionOrNodes: SelectorOrNode | RefactorSession): RefactorSession;
    constructor(sourceOrNodes: Node | Node[] | string, globalSession?: GlobalState);
    // (undocumented)
    append(selectorOrNode: SelectorOrNode, replacer: Replacer): GlobalState;
    // (undocumented)
    cleanup(): this;
    // (undocumented)
    closest(originSelector: SelectorOrNode, closestSelector: string): Node[];
    // (undocumented)
    delete(selectorOrNode?: SelectorOrNode): GlobalState;
    // (undocumented)
    find(selectorOrNode: string): Node[];
    // (undocumented)
    findDeclarations(node: SimpleIdentifier | SimpleIdentifierOwner): Declaration[];
    // (undocumented)
    findMatchingExpression(sampleSrc: string): Expression[];
    // (undocumented)
    findMatchingStatement(sampleSrc: string): Statement[];
    // (undocumented)
    findOne(selectorOrNode: string): Node;
    // (undocumented)
    findParents(selectorOrNode: SelectorOrNode): Node[];
    // (undocumented)
    findReferences(node: SimpleIdentifier | SimpleIdentifierOwner): Reference[];
    // (undocumented)
    first(): Node;
    // (undocumented)
    globalSession: GlobalState;
    // (undocumented)
    get length(): number;
    // (undocumented)
    nodes: Node[];
    // (undocumented)
    prepend(selectorOrNode: SelectorOrNode, replacer: Replacer): GlobalState;
    // (undocumented)
    print(ast?: Node): any;
    // (undocumented)
    query(selector: string | string[]): Node[];
    // (undocumented)
    queryFrom(astNodes: Node | Node[], selectorOrNode: string): Node[];
    // (undocumented)
    rename(selectorOrNode: SelectorOrNode, newName: string): this;
    // (undocumented)
    renameInPlace(lookup: Variable, newName: string): void;
    // (undocumented)
    replace(selectorOrNode: SelectorOrNode, replacer: Replacer | AsyncReplacer): number;
    // (undocumented)
    replaceAsync(selectorOrNode: SelectorOrNode, replacer: AsyncReplacer): Promise<number>;
    // (undocumented)
    replaceRecursive(selectorOrNode: SelectorOrNode, replacer: Replacer): this;
    // (undocumented)
    get root(): Node;
    // (undocumented)
    _root?: Node;
    // (undocumented)
    subSession(querySessionOrNodes: SelectorOrNode | RefactorSession): RefactorSession;
}

// Warning: (ae-forgotten-export) The symbol "Pluggable" needs to be exported by the entry point index.d.ts
//
// @public
export interface RefactorSessionChainable extends Pluggable {
}

// @public
export class RefactorSessionChainable {
    $(queryOrNodes: SelectorOrNode): RefactorQueryAPI;
    // Warning: (ae-incompatible-release-tags) The symbol "__constructor" is marked as @public, but its signature references "RefactorSession" which is marked as @internal
    constructor(session: RefactorSession);
    append(replacer: Replacer): RefactorSessionChainable;
    closest(closestSelector: string): RefactorQueryAPI;
    codegen(): any[];
    // @internal (undocumented)
    static create(session: RefactorSession): RefactorQueryAPI;
    declarations(): Declaration[][];
    delete(): this;
    filter(iterator: (node: any, i?: number) => any): any[];
    find(iterator: (node: any, i?: number) => any): RefactorQueryAPI;
    findMatchingExpression(sampleSrc: string): RefactorQueryAPI;
    findMatchingStatement(sampleSrc: string): RefactorQueryAPI;
    findOne(selectorOrNode: string): RefactorQueryAPI;
    first(selector?: string): Node;
    forEach(iterator: (node: any, i?: number) => any): RefactorSessionChainable;
    get(index: number): Node;
    // (undocumented)
    get length(): number;
    logOut(): this;
    lookupVariable(): Variable[];
    lookupVariableByName(name: string): Variable[];
    map(iterator: (node: any, i?: number) => any): any[];
    nameString(): string;
    // (undocumented)
    get nodes(): Node[];
    parents(): RefactorQueryAPI;
    // (undocumented)
    static plugins: Plugin[];
    prepend(replacer: Replacer): RefactorSessionChainable;
    print(): any;
    query(selector: string | string[]): RefactorQueryAPI;
    references(): Reference[][];
    rename(newName: string): this;
    replace(replacer: Replacer): RefactorSessionChainable;
    replaceAsync(replacer: AsyncReplacer): Promise<number>;
    replaceChildren(query: SelectorOrNode, replacer: Replacer): RefactorSessionChainable;
    // (undocumented)
    get root(): Node;
    // Warning: (ae-incompatible-release-tags) The symbol "session" is marked as @public, but its signature references "RefactorSession" which is marked as @internal
    //
    // (undocumented)
    session: RefactorSession;
    statements(): RefactorQueryAPI;
    toJSON(): string;
    // @internal (undocumented)
    static with<S extends Constructor<any> & Pluggable, T extends Plugin>(this: S, plugin: T): S & Pluggable & Constructor<ReturnType<T>>;
}

// @public
export type Replacer = Node | string | ((node: Node) => string | Node);

// @public
export type SelectorOrNode = string | string[] | Node | Node[];

// @public
export type SimpleIdentifier = BindingIdentifier | IdentifierExpression | AssignmentTargetIdentifier;

// @public
export type SimpleIdentifierOwner = AssignmentExpression | ClassDeclaration | ClassExpression | FunctionDeclaration | FunctionExpression | VariableDeclarator;


// (No @packageDocumentation comment for this package)

```
